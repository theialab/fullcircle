<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta name="description" content="FullCircle: Effortless 3D Reconstruction from Casual 360° Captures" />
  <meta name="keywords" content="" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>FullCircle</title>

  <style>
    body {
      font-family: 'Noto Sans', 'Google Sans', 'Castoro', sans-serif;
    }
  </style>
  <link rel="stylesheet" href="./static/css/bulma.min.css" />
  <link rel="stylesheet" href="./static/css/bulma-carousel.min.css" />
  <link rel="stylesheet" href="./static/css/bulma-slider.min.css" />
  <link rel="stylesheet" href="./static/css/academicons.min.css" />
  <link rel="stylesheet" href="./static/css/fontawesome.all.min.css" />
  <link rel="stylesheet" href="./static/css/index.css" />
  <script src="./static/js/jquery.min.js"></script>
  <script defer src="./static/js/fontawesome.all.min.js"></script>

  <style>
    :root {
      --space-xs: 0.25rem;
      --space-sm: 0.5rem;
      --space-md: 1rem;
      --space-lg: 1.5rem;
      --space-xl: 2rem;
  
      --author-accent: #544848;
      --author-accent-hover: #afa0a0;
    }

    /* authors section */
    .publication-authors {
      text-align: center;
      margin-top: var(--space-xl);
    }
    
    .authors-grid {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 2.5rem 4rem;
    }
    
    .author {
      min-width: 180px;
      max-width: 230px;
    }
    
    .hero .publication-authors a.author-name {
      font-weight: 600;
      font-size: 0.95rem;
      color: var(--author-accent) !important;
      text-decoration: none;
    }
    
    .hero .publication-authors a.author-name:hover {
      color: var(--author-accent-hover) !important;
    }
  
    .author-affiliation {
      font-size: 0.95rem;
      color: #444;
    }

    .equal-contribution {
      margin-bottom: var(--space-xl);
      font-style: italic;
      font-size: 1rem;
      color: #514a4a;
    }
    
    /* titles + text */
    .section-title {
      font-size: 1.5rem;
      text-align: center;
      color: #060505;
      margin: var(--space-xl) 0 var(--space-xs);
    }

    .section-description {
      margin: 0 0 var(--space-md);
      font-size: 1.05rem;
      line-height: 1.4;
    }

    /* buttons */
    .buttons {
      margin: var(--space-sm) 0 var(--space-lg);
    }

    .custom-button {
      background-color: #161515;
      color: white;
      border: none;
      border-radius: 20px;
      padding: 0.7rem;
      margin: var(--space-xs);
      cursor: pointer;
      transition: 0.3s;
      flex: 0 0 91px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .custom-button:hover {
      background-color: #2b2b2b;
    }

    .custom-button.active {
      background-color: white;
      color: #080808;
      border: 1px solid #b0b0b0;
    }

    .custom-button.large {
      background-color: #161515;
      color: white;
      border: none;
      border-radius: 28px;
      padding: 0.85rem 1.25rem;
      font-size: 0.85rem;
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
    }

    .custom-button.large:hover {
      background-color: #2b2b2b;
    }
    
    .custom-button.large.active {
      background-color: white;
      color: #080808;
      border: 1px solid #b0b0b0;
    }

    /* videos */
    .video-container {
      margin-top: var(--space-sm);
      display: none;
    }

    .video-container.active {
      display: block;
    }

    .merged-video {
      width: 100%;
      border-radius: 6px;
    }

    .merged-label-row {
      display: flex;
      width: 100%;
      margin: var(--space-sm) 0 var(--space-lg);
    }

    .merged-label-item {
      flex: 1; 
      text-align: center;
      font-weight: 500;
      font-size: 0.9rem;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: var(--space-xs);
    }

    .cam-icon {
      height: 1.2em;
      vertical-align: middle;
    }

    .merged-label-item .cam-icon {
      height: 2.0em;
    }

    .label-spacer {
       width: 6%; 
       flex-shrink: 0;
    }

    /* viser */
    .viser-row {
    display: flex;
    flex-wrap: wrap;
    gap: 0.75rem;
    margin-top: var(--space-md);
    }

    .viser-box {
      flex: 1 1 320px;
    }

    @media (min-width: 1024px) {
      .viser-row {
        flex-wrap: nowrap;
      }
      .viser-box {
        flex: 1 1 0;
      }
    }

    .viser-iframe {
      width: 100%;
      border: none;
      border-radius: 6px;
      aspect-ratio: 4 / 3;
      max-height: none;
    }
    
  </style>
</head>

<body>
  <nav class="navbar" role="navigation" aria-label="main navigation">
    <div class="navbar-brand">
      <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false">
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
      </a>
    </div>
  </nav>

  <!-- title -->
  <section class="hero">
    <div class="hero-body">
      <div class="container is-max-desktop">
        <div class="columns is-centered">
          <div class="column has-text-centered">
            <h1 class="title is-3 publication-title">
              <span style="font-weight: bold;">FullCircle:</span><br>
              <span style="font-weight: normal;">Effortless 3D Reconstruction from Casual 360° Captures</span>
            </h1>
            <!-- authors -->
            <div class="publication-authors">
              <div class="authors-grid">
                <div class="author"><a class="author-name" href="https://youlenda.github.io" target="_blank">Yalda Foroutan*</a><div class="author-affiliation">Simon Fraser University</div></div>
                <div class="author"><a class="author-name" href="https://ipekoztas.github.io" target="_blank">Ipek Oztas*</a><div class="author-affiliation">Simon Fraser University</div><div class="author-affiliation">Bilkent University</div></div>
                <div class="author"><a class="author-name" href="http://drebain.com" target="_blank">Daniel Rebain</a><div class="author-affiliation">University of British Columbia</div></div>
                <div class="author"><a class="author-name" href="https://www.cs.bilkent.edu.tr/~adundar/" target="_blank">Aysegul Dundar</a><div class="author-affiliation">Bilkent University</div></div>
                <div class="author"><a class="author-name" href="https://www.cs.ubc.ca/~kmyi/" target="_blank">Kwang Moo Yi</a><div class="author-affiliation">University of British Columbia</div></div>
                <div class="author"><a class="author-name" href="https://lilygoli.github.io" target="_blank">Lily Goli</a><div class="author-affiliation">University of Toronto</div></div>
                <div class="author"><a class="author-name" href="https://theialab.ca" target="_blank">Andrea Tagliasacchi</a><div class="author-affiliation">Simon Fraser University</div><div class="author-affiliation">University of Toronto</div></div>
              </div>
              <p class="equal-contribution">
                * equal contribution
              </p>
            </div>
            <!-- external links -->
            <div class="publication-links">
              <a href="paper.pdf" class="custom-button large">
                <span class="icon"><i class="fas fa-file-alt"></i></span>
                <span>Paper</span>
              </a>
            </div>
            <!-- teaser -->        
            <div class="columns is-centered" style="margin-top: 1.5rem;">
              <div class="column has-text-centered">
                <h2 class="section-title">Teaser</h2>
                <img src="static/images/teaser_v5.png"
                  style="max-width: 100%; border-radius: 6px; margin-top: 0.5rem;"
                  alt="Teaser image">
              </div>
            </div>
            <!-- abstract -->    
            <div class="columns is-centered">
              <div class="column has-text-centered">
                <h2 class="section-title">Abstract</h2>
                <p class="subtitle is-5 section-description">
                  Radiance fields have emerged as powerful tools for 3D scene reconstruction.
                  However, casual capture remains challenging due to the narrow field of view of perspective cameras, which limits viewpoint coverage and feature correspondences necessary for reliable camera calibration and reconstruction.
                  While commercially available 360° cameras offer significantly broader coverage than perspective cameras for the same capture effort, existing 360° reconstruction methods require special capture protocols and pre-processing steps that undermine the promise of radiance fields: effortless workflows to capture and reconstruct 3D scenes. 
                  We propose a practical pipeline for reconstructing 3D scenes directly from raw 360° camera captures.
                  Our pipeline requires no special capture protocols or pre-processing, and exhibits robustness to a prevalent source of reconstruction errors: the human operator that is visible in all 360° imagery.
                  To facilitate evaluation, we introduce a multi-tiered dataset of scenes captured as raw dual-fisheye images, establishing a benchmark for robust casual 360° reconstruction.
                  Our method significantly outperforms not only vanilla 3DGS for 360° cameras but also robust perspective baselines when perspective cameras are simulated from the same capture, demonstrating the advantages of 360° capture for casual reconstruction.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- 360 vs pers -->
  <div class="container is-max-desktop">
    <div class="columns is-centered">
      <div class="column has-text-centered">
        <h2 class="section-title">Dual-fisheye vs. perspective</h2>
        <p class="subtitle is-5 section-description">
          360° cameras are convenient ways of performing casual scene capture. Using a dual-fisheye 360° camera model 
          (<img src="logos/fisheye-1.png" alt="Dual-fisheye" class="cam-icon" style="height: 1em;">-<img src="logos/fisheye-1.png" alt="Dual-fisheye" class="cam-icon" style="height: 1em;">) 
          allows much higher reconstruction quality than using perspective cameras 
          (<img src="logos/camera-1.png"  alt="Perspective"  class="cam-icon" style="height: 1em;">-<img src="logos/camera-1.png"  alt="Perspective"  class="cam-icon" style="height: 1em;">), 
          or using a fisheye camera with a perspective model 
          (<img src="logos/fisheye-1.png" alt="Dual-fisheye" class="cam-icon" style="height: 1em;">-<img src="logos/camera-1.png"  alt="Perspective"  class="cam-icon" style="height: 1em;">).
        </p>
        <video class="merged-video" autoplay muted loop playsinline>
          <source src="static/videos/360vspers/360vspers_merged.mp4" type="video/mp4">
        </video>

        <div class="merged-label-row">
          <div class="merged-label-item">
            <img src="logos/camera-1.png" class="cam-icon">
            <span class="dash">-</span>
            <img src="logos/camera-1.png" class="cam-icon">
          </div>
          <div class="label-spacer"></div>
          <div class="merged-label-item">
            <img src="logos/fisheye-1.png" class="cam-icon">
            <span class="dash">-</span>
            <img src="logos/camera-1.png" class="cam-icon">
          </div>
          <div class="label-spacer"></div>
          <div class="merged-label-item">
            <img src="logos/fisheye-1.png" class="cam-icon">
            <span class="dash">-</span>
            <img src="logos/fisheye-1.png" class="cam-icon">
          </div>
          <div class="label-spacer"></div>
          <div class="merged-label-item">
            Camera path
          </div>
        </div>

        <h3 class="section-title" style="margin-top: 1.5rem;">
          Interactive 3D reconstruction
        </h3>

        <div class="viser-row">
          <!-- pers-pers -->
          <div class="viser-box">
            <iframe
              class="viser-iframe"
              src="viser-client/index.html?playbackPath=/recordings/pers-aligned.viser&initialCameraPosition=1.531,-1.473,1.049&initialCameraLookAt=1.607,-0.295,1.780&initialCameraUp=-0.000,0.000,1.000"
              allowfullscreen
            ></iframe>

            <div class="merged-label-row">
              <div class="merged-label-item">
                <img src="logos/camera-1.png" class="cam-icon">
                <span style="font-weight: bold; margin: 0 2px;">-</span>
                <img src="logos/camera-1.png" class="cam-icon">
              </div>
              <div class="label-spacer"></div>
            </div>
          </div>

          <!-- fisheye-pers -->
          <div class="viser-box">
            <iframe
              class="viser-iframe"
              src="viser-client/index.html?playbackPath=/recordings/360_pers.viser&initialCameraPosition=1.531,-1.473,1.049&initialCameraLookAt=1.607,-0.295,1.780&initialCameraUp=-0.000,0.000,1.000"
              allowfullscreen
            ></iframe>

            <div class="merged-label-row">
              <div class="merged-label-item">
                <img src="logos/fisheye-1.png" class="cam-icon">
                <span style="font-weight: bold; margin: 0 2px;">-</span>
                <img src="logos/camera-1.png" class="cam-icon">
              </div>
              <div class="label-spacer"></div>
            </div>
          </div>

          <!-- fisheye-fisheye -->
          <div class="viser-box">
            <iframe
              class="viser-iframe"
              src="viser-client/index.html?playbackPath=/recordings/360.viser&initialCameraPosition=1.531,-1.473,1.049&initialCameraLookAt=1.607,-0.295,1.780&initialCameraUp=-0.000,0.000,1.000"
              allowfullscreen
            ></iframe>

            <div class="merged-label-row">
              <div class="merged-label-item">
                <img src="logos/fisheye-1.png" class="cam-icon">
                <span style="font-weight: bold; margin: 0 2px;">-</span>
                <img src="logos/fisheye-1.png" class="cam-icon">
              </div>
              <div class="label-spacer"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <div class="container is-max-desktop">
    <div class="columns is-centered">
      <div class="column has-text-centered">
        <h2 class="section-title">Reconstruction via undistortion</h2>
        <p class="subtitle is-5 section-description">
          Conventional undistortion-based utilization of 360 scene capture degrades performance, both with robust (SLS) and without robust reconstruction (3DGS).
        </p>
      </div>
    </div>

    <div class="columns is-centered">
      <div class="column has-text-centered">
        <div class="buttons are-small is-multiline is-centered">
          <button class="custom-button" onclick="showVideo('video6', 'undistort', this)">Lab</button>
          <button class="custom-button active" onclick="showVideo('video7', 'undistort', this)">Lounge</button>
          <button class="custom-button" onclick="showVideo('video8', 'undistort', this)">Persons</button>
          <button class="custom-button" onclick="showVideo('video9', 'undistort', this)">Shadow</button>
        </div>
      </div>
    </div>

    <div class="columns is-centered">
      <div class="column has-text-centered">

        <div id="video6" class="video-container" data-group="undistort">
          <video class="merged-video" src="static/videos/pers/lab.mp4" autoplay loop muted playsinline></video>
          <div class="merged-label-row">
            <div class="merged-label-item">3DGS</div>
            <div class="label-spacer"></div>
            <div class="merged-label-item">SLS</div>
            <div class="label-spacer"></div>
            <div class="merged-label-item">FullCircle (ours)</div>
          </div>
        </div>

        <div id="video7" class="video-container active" data-group="undistort">
          <video class="merged-video" src="static/videos/pers/lounge.mp4" autoplay loop muted playsinline></video>
          <div class="merged-label-row">
            <div class="merged-label-item">3DGS</div>
            <div class="label-spacer"></div>
            <div class="merged-label-item">SLS</div>
            <div class="label-spacer"></div>
            <div class="merged-label-item">FullCircle (ours)</div>
          </div>
        </div>

        <div id="video8" class="video-container" data-group="undistort">
          <video class="merged-video" src="static/videos/pers/persons.mp4" autoplay loop muted playsinline></video>
          <div class="merged-label-row">
            <div class="merged-label-item">3DGS</div>
            <div class="label-spacer"></div>
            <div class="merged-label-item">SLS</div>
            <div class="label-spacer"></div>
            <div class="merged-label-item">FullCircle (ours)</div>
          </div>
        </div>

        <div id="video9" class="video-container" data-group="undistort">
          <video class="merged-video" src="static/videos/pers/shadow.mp4" autoplay loop muted playsinline></video>
          <div class="merged-label-row">
            <div class="merged-label-item">3DGS</div>
            <div class="label-spacer"></div>
            <div class="merged-label-item">SLS</div>
            <div class="label-spacer"></div>
            <div class="merged-label-item">FullCircle (ours)</div>
          </div>
        </div>

      </div>
    </div>
  </div>

  <div class="container is-max-desktop">
    <div class="columns is-centered">
      <div class="column has-text-centered">
        <h2 class="section-title">Dual-fisheye reconstruction</h2>
        <p class="subtitle is-5 section-description">
          We also remove the camera operator, which provides clearer reconstruction quality. This is especially important for a casual capture setup with a 360° camera, as the operator is always in view.
        </p>
      </div>
    </div>

    <div class="columns is-centered">
      <div class="column has-text-centered">
        <div class="buttons are-small is-multiline is-centered">
          <button class="custom-button" onclick="showVideo('video1', 'fisheye', this)">Room 1</button>
          <button class="custom-button" onclick="showVideo('video2', 'fisheye', this)">Flat 1</button>
          <button class="custom-button active" onclick="showVideo('video3', 'fisheye', this)">Flat 2</button>
          <button class="custom-button" onclick="showVideo('video4', 'fisheye', this)">Room 2</button>
          <button class="custom-button" onclick="showVideo('video5', 'fisheye', this)">Room 3</button>
        </div>
      </div>
    </div>

    <div class="columns is-centered">
      <div class="column has-text-centered">

        <div id="video1" class="video-container" data-group="fisheye">
          <video class="merged-video" src="static/videos/fisheye/room1.mp4" autoplay loop muted playsinline></video>
          <div class="merged-label-row">
            <div class="merged-label-item">3DGRT</div>
            <div class="label-spacer"></div>
            <div class="merged-label-item">SLS</div>
            <div class="label-spacer"></div>
            <div class="merged-label-item">FullCircle (ours)</div>
          </div>
          <h3 class="section-title">
            Interactive 3D reconstruction
          </h3>
          <div class="viser-row">
            <div class="viser-box">
              <iframe
                class="viser-iframe"
                src="viser-client/index.html?playbackPath=/recordings/room1-grt.viser&initialCameraPosition=0.000,0.000,0.252&initialCameraLookAt=0.000,0.000,0.000&initialCameraUp=-0.000,0.000,1.000"
                allowfullscreen
              ></iframe>
              <div class="merged-label-row">
                <div class="merged-label-item">3DGRT</div>
              </div>
            </div>
            <div class="viser-box">
              <iframe
                class="viser-iframe"
                src="viser-client/index.html?playbackPath=/recordings/room1-ours.viser&initialCameraPosition=0.000,0.000,0.252&initialCameraLookAt=0.000,0.000,0.000&initialCameraUp=-0.000,0.000,1.000"
                allowfullscreen
              ></iframe>
              <div class="merged-label-row">
                <div class="merged-label-item">FullCircle (ours)</div>
              </div>
            </div>
          </div>
        </div>
        
        <div id="video2" class="video-container" data-group="fisheye">
          <video class="merged-video" src="static/videos/fisheye/flat1.mp4" autoplay loop muted playsinline></video>
          <div class="merged-label-row">
            <div class="merged-label-item">3DGRT</div>
            <div class="label-spacer"></div>
            <div class="merged-label-item">SLS</div>
            <div class="label-spacer"></div>
            <div class="merged-label-item">FullCircle (ours)</div>
          </div>
          <h3 class="section-title">
            Interactive 3D reconstruction
          </h3>
          <div class="viser-row">
            <div class="viser-box">
              <iframe
                class="viser-iframe"
                src="viser-client/index.html?playbackPath=/recordings/flat1-grt.viser&initialCameraPosition=-2.840,-0.575,1.542&initialCameraLookAt=-2.840,-0.575,0.534&initialCameraUp=-0.000,0.000,1.000"
                allowfullscreen
              ></iframe>
              <div class="merged-label-row">
                <div class="merged-label-item">3DGRT</div>
              </div>
            </div>
            <div class="viser-box">
              <iframe
                class="viser-iframe"
                src="viser-client/index.html?playbackPath=/recordings/flat1-ours.viser&initialCameraPosition=-2.840,-0.575,1.542&initialCameraLookAt=-2.840,-0.575,0.534&initialCameraUp=-0.000,0.000,1.000"
                allowfullscreen
              ></iframe>
              <div class="merged-label-row">
                <div class="merged-label-item">FullCircle (ours)</div>
              </div>
            </div>
          </div>
        </div>

        <div id="video3" class="video-container active" data-group="fisheye">
          <video class="merged-video" src="static/videos/fisheye/flat2.mp4" autoplay loop muted playsinline></video>
          <div class="merged-label-row">
            <div class="merged-label-item">3DGRT</div>
            <div class="label-spacer"></div>
            <div class="merged-label-item">SLS</div>
            <div class="label-spacer"></div>
            <div class="merged-label-item">FullCircle (ours)</div>
          </div>
          <h3 class="section-title">
            Interactive 3D reconstruction
          </h3>
          <div class="viser-row">
            <div class="viser-box">
              <iframe
                class="viser-iframe"
                src="viser-client/index.html?playbackPath=/recordings/flat2-grt.viser&initialCameraPosition=0.000,0.000,0.252&initialCameraLookAt=0.000,0.000,0.000&initialCameraUp=-0.000,0.000,1.000"
                allowfullscreen
              ></iframe>
              <div class="merged-label-row">
                <div class="merged-label-item">3DGRT</div>
              </div>
            </div>
            <div class="viser-box">
              <iframe
                class="viser-iframe"
                src="viser-client/index.html?playbackPath=/recordings/flat2-ours.viser&initialCameraPosition=0.000,0.000,0.252&initialCameraLookAt=0.000,0.000,0.000&initialCameraUp=-0.000,0.000,1.000"
                allowfullscreen
              ></iframe>
              <div class="merged-label-row">
                <div class="merged-label-item">FullCircle (ours)</div>
              </div>
            </div>
          </div>
        </div>
        
        <div id="video4" class="video-container" data-group="fisheye">
          <video class="merged-video" src="static/videos/fisheye/room2.mp4" autoplay loop muted playsinline></video>
          <div class="merged-label-row">
            <div class="merged-label-item">3DGRT</div>
            <div class="label-spacer"></div>
            <div class="merged-label-item">SLS</div>
            <div class="label-spacer"></div>
            <div class="merged-label-item">FullCircle (ours)</div>
          </div>
          <h3 class="section-title">
            Interactive 3D reconstruction
          </h3>
          <div class="viser-row">
            <div class="viser-box">
              <iframe
                class="viser-iframe"
                src="viser-client/index.html?playbackPath=/recordings/room2-grt.viser"
                allowfullscreen
              ></iframe>
              <div class="merged-label-row">
                <div class="merged-label-item">3DGRT</div>
              </div>
            </div>
            <div class="viser-box">
              <iframe
                class="viser-iframe"
                src="viser-client/index.html?playbackPath=/recordings/room2-ours.viser"
                allowfullscreen
              ></iframe>
              <div class="merged-label-row">
                <div class="merged-label-item">FullCircle (ours)</div>
              </div>
            </div>
          </div>
        </div>

        <div id="video5" class="video-container" data-group="fisheye">
          <video class="merged-video" src="static/videos/fisheye/room3.mp4" autoplay loop muted playsinline></video>
          <div class="merged-label-row">
            <div class="merged-label-item">3DGRT</div>
            <div class="label-spacer"></div>
            <div class="merged-label-item">SLS</div>
            <div class="label-spacer"></div>
            <div class="merged-label-item">FullCircle (ours)</div>
          </div>
          <h3 class="section-title">
            Interactive 3D reconstruction
          </h3>
          <div class="viser-row">
            <div class="viser-box">
              <iframe
                class="viser-iframe"
                src="viser-client/index.html?playbackPath=/recordings/room3-grt.viser&initialCameraPosition=0.436,0.333,0.673&initialCameraLookAt=0.440,0.331,0.664&initialCameraUp=-0.000,0.000,1.000"
                allowfullscreen
              ></iframe>
              <div class="merged-label-row">
                <div class="merged-label-item">3DGRT</div>
              </div>
            </div>
            <div class="viser-box">
              <iframe
                class="viser-iframe"
                src="viser-client/index.html?playbackPath=/recordings/room3-ours.viser&initialCameraPosition=0.436,0.333,0.673&initialCameraLookAt=0.440,0.331,0.664&initialCameraUp=-0.000,0.000,1.000"
                allowfullscreen
              ></iframe>
              <div class="merged-label-row">
                <div class="merged-label-item">FullCircle (ours)</div>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div> 
  </div>

</body>

</html>

<script>
  function showVideo(videoId, group, btn) {
    const videos = document.querySelectorAll('.video-container[data-group="' + group + '"]');
    videos.forEach(video => video.classList.remove('active'));

    const selectedVideo = document.getElementById(videoId);
    if (selectedVideo) selectedVideo.classList.add('active');

    if (btn) {
      const buttonsContainer = btn.parentElement;
      const buttons = buttonsContainer.querySelectorAll('.custom-button');
      buttons.forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
    }
  }
</script>